import{e,f as a,c as s,w as t,r as l,o as u,a as r,b as o,h as i,i as n,B as m,d as p,t as _,s as d}from"./index-CA6UagU_.js";import{_ as v}from"./sk-form.vue_vue_type_script_setup_true_lang.C4zzUO0g.js";import{_ as c}from"./sk-button.vue_vue_type_script_setup_true_lang.BJfvD4eG.js";import{_ as f}from"./sk-spinner.g15YERIx.js";import{_ as b}from"./sk-field.vue_vue_type_script_setup_true_lang.D9Tvordn.js";import{_ as y}from"./sk-input.vue_vue_type_script_setup_true_lang.KuB6n2z2.js";import{o as j,s as k}from"./types.DSKNIye4.js";import"./use-provide.B_f5e336.js";import"./form.pFMRjkfN.js";import"./use-parent.Dwjp3nL8.js";import"./index.Budg9xHA.js";import"./field.Ccjhm7Cj.js";const g=e({__name:"submit",setup(e){const g=j({name:k().min(1,"姓名不能为空")}),h=a({name:""}),x=a(),w=a(!1),V=a("");async function S(e){w.value=!0,V.value="";try{await new Promise(e=>setTimeout(e,2e3)),V.value=`提交成功！数据: ${JSON.stringify(e,null,2)}`,d({title:"提交成功",icon:"success"})}catch{V.value="提交失败，请重试",d({title:"提交失败",icon:"error"})}finally{w.value=!1}}function R(){var e;V.value="",h.value={name:""},null==(e=x.value)||e.resetValidation(),d({title:"表单校验状态已重置",icon:"none"})}return(e,a)=>{const d=y,j=b,k=f,T=c,U=v,q=l("global-ku-root");return u(),s(q,null,{default:t(()=>[r("div",{class:"p-4 w-full"},[o(U,{ref_key:"formRef",ref:x,schema:m(g),values:h.value,onSubmit:S},{default:t(()=>[o(j,{name:"name",label:"姓名",required:""},{default:t(()=>[o(d,{modelValue:h.value.name,"onUpdate:modelValue":a[0]||(a[0]=e=>h.value.name=e),placeholder:"请输入您的姓名"},null,8,["modelValue"])]),_:1}),r("div",{class:"flex gap-2 mt-4"},[o(T,{type:"submit",color:"brand",disabled:w.value},{default:t(()=>[w.value?(u(),s(k,{key:0,color:"current"})):n("",!0),p(_(w.value?"提交中...":"提交"),1)]),_:1},8,["disabled"]),o(T,{variant:"bound",disabled:w.value,onClick:R},{default:t(()=>[p(" 重置提交与校验 ")]),_:1},8,["disabled"])])]),_:1},8,["schema","values"]),V.value?(u(),i("div",{key:0,class:"mt-4 p-3 bg-muted rounded"},[r("pre",{class:"text-sm"},_(V.value),1)])):n("",!0)])]),_:1})}}});export{g as default};
